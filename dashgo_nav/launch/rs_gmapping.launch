<?xml version="1.0"?>

<launch>

   <node name="arduino" pkg="dashgo_bringup" type="dashgo_driver.py" output="screen">
      <rosparam file="$(find dashgo_bringup)/config/my_dashgo_params.yaml" command="load" />
   </node>
   <include file="$(find dashgo_description)/launch/dashgo_description.launch"/>

   <include file="$(find dashgo_nav)/launch/rs_camera_f.launch"></include>
   <node name="front_pointcloud_to_laserscan" pkg="pointcloud_to_laserscan" type="pointcloud_to_laserscan_node">
        <remap from="cloud_in" to="/front_camera/depth/color/points"/>
        <remap from="scan" to="/scan"/>
        <rosparam>
            target_frame: front_camera_link
            min_height: -0.1
            max_height: 1.7
            range_min: 0.175
            range_max: 2.0
        </rosparam>
   </node>

   <include file="$(find dashgo_nav)/launch/rs_camera_b.launch"></include>
   <node name="back_pointcloud_to_laserscan" pkg="pointcloud_to_laserscan" type="pointcloud_to_laserscan_node">
        <remap from="cloud_in" to="/back_camera/depth/color/points"/>
        <remap from="scan" to="/scan"/>
        <rosparam>
            target_frame: back_camera_link
            min_height: -0.1
            max_height: 1.7
            range_min: 0.175
            range_max: 2.0
        </rosparam>
   </node>

   <node pkg="tf" type="static_transform_publisher" name="base_link_to_front_laser4" 
      args="0.2 0.0 0.16 0.0 0.0  0.0 /base_link /front_camera_link 40" />

   <node pkg="tf" type="static_transform_publisher" name="base_link_to_back_laser4" 
      args="0.2 0.0 0.16 0.0 0.0 3.1415926 /base_link /back_camera_link 40" />

   <include file="$(find dashgo_nav)/launch/gmapping.launch"/>
   <include file="$(find dashgo_nav)/launch/move_base.launch"/>
</launch>
